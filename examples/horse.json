{
    "name": "Horse Info Extractor",
    "baseSelector": "//body",
    "fields": [
        {
            "name": "horse_name",
            "selector": "//table[contains(@class, 'horseProfile')]//td[contains(@class, 'subsubheader')]//span[contains(@class, 'title_text')]",
            "type": "text"
        },
        {
            "name": "origin_age",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '出生地 / 馬齡')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "color_sex",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '毛色 / 性別')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "import_type",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '進口類別')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "season_prize",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '今季獎金')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "total_prize",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '總獎金')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "race_record",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '冠-亞-季-總出賽次數')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "recent_races",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '最近十個賽馬日')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "current_location",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '現在位置')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "import_date",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '進口日期')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "trainer",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '練馬師')]]/td[last()]/a",
            "type": "text"
        },
        {
            "name": "owner",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '馬主')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "current_rating",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '現時評分')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "season_start_rating",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '季初評分')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "sire",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '父系')]]/td[last()]/a",
            "type": "text"
        },
        {
            "name": "dam",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '母系')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "damsire",
            "selector": "//table[contains(@class, 'table_eng_text')]//tr[td[contains(text(), '外祖父')]]/td[last()]",
            "type": "text"
        },
        {
            "name": "race_history",
            "selector": "//table[contains(@class, 'bigborder')]//tr[position()>1 and td[1]/a]",
            "type": "list",
            "fields": [
                {
                    "name": "race_id",
                    "selector": "./td[1]/a",
                    "type": "nested",
                    "fields": [
                        {
                            "name": "text",
                            "selector": ".",
                            "type": "text"
                        },
                        {
                            "name": "link",
                            "selector": ".",
                            "type": "attribute",
                            "attribute": "href"
                        }
                    ]
                },
                {
                    "name": "race_index",
                    "selector": "./td[2]",
                    "type": "text"
                },
                {
                    "name": "race_date",
                    "selector": "./td[3]",
                    "type": "text"
                },
                {
                    "name": "track_name",
                    "selector": "./td[4]",
                    "type": "text"
                },
                {
                    "name": "distance",
                    "selector": "./td[5]",
                    "type": "text"
                },
                {
                    "name": "track_condition",
                    "selector": "./td[6]",
                    "type": "text"
                },
                {
                    "name": "race_class",
                    "selector": "./td[7]",
                    "type": "text"
                },
                {
                    "name": "place",
                    "selector": "./td[8]",
                    "type": "text"
                },
                {
                    "name": "rating",
                    "selector": "./td[9]",
                    "type": "text"
                },
                {
                    "name": "trainer",
                    "selector": "./td[10]/a",
                    "type": "text"
                },
                {
                    "name": "jockey",
                    "selector": "./td[11]/a",
                    "type": "text"
                },
                {
                    "name": "horse_length",
                    "selector": "./td[12]",
                    "type": "text"
                },
                {
                    "name": "win_odds",
                    "selector": "./td[13]",
                    "type": "text"
                },
                {
                    "name": "actual_weight",
                    "selector": "./td[14]",
                    "type": "text"
                },
                {
                    "name": "running_position",
                    "selector": "./td[15]",
                    "type": "text"
                },
                {
                    "name": "finish_time",
                    "selector": "./td[16]",
                    "type": "text"
                },
                {
                    "name": "horse_weight",
                    "selector": "./td[17]",
                    "type": "text"
                },
                {
                    "name": "gear",
                    "selector": "./td[18]",
                    "type": "text"
                },
                {
                    "name": "replay_links",
                    "selector": "./td[19]/a",
                    "type": "list",
                    "fields": [
                        {
                            "name": "url",
                            "selector": ".",
                            "type": "attribute",
                            "attribute": "href"
                        },
                        {
                            "name": "type",
                            "selector": "./img",
                            "type": "attribute",
                            "attribute": "alt"
                        }
                    ]
                }
            ]
        }
    ]
}
